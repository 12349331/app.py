import streamlit as st

def estimate_pumping_volume(C, P, eta, H, A):
    Q = (P * eta) / (0.222 * H * 1.2)
    V = (Q * 60 * C) / (2 * (P * A))
    return Q, V

st.set_page_config(page_title="è¾²æ¥­æŠ½æ°´é‡ä¼°ç®—å·¥å…·", page_icon="ğŸ’§")

# âœ… åŠ å…¥æ–°çš„æ¨™é¡Œèˆ‡ç ”ç©¶èªªæ˜æ–‡å­—
st.title("ğŸŒ±ğŸ’§ ä½œç‰©æœˆéœ€æ°´é‡æ¨ä¼°å·¥å…·ï¼ˆä»¥é›»è²»ç‚ºåŸºç¤ï¼‰")

st.markdown("""
æœ¬ç ”ç©¶é–‹ç™¼æœ¬å·¥å…·ï¼Œæ—¨åœ¨é€éæ”¶é›†è¾²æ°‘æ¯æœˆç”¨é›»è³‡æ–™ï¼Œ  
çµåˆæŠ½æ°´è¨­å‚™æ•ˆç‡ã€æ°´é ­æ·±åº¦èˆ‡è€•ä½œé¢ç©ï¼Œ  
**æ¨ä¼°å„é¡è¾²ä½œç‰©çš„æ¯æœˆå¯¦éš›éœ€æ°´é‡**ã€‚

ğŸ” **ç ”ç©¶ç›®çš„**:
ä»¥é›»è²»ä½œç‚ºæ ¸å¿ƒåƒæ•¸ï¼Œå»ºç«‹ä¸€å€‹ä½æˆæœ¬ã€é«˜å¯è¡Œæ€§çš„æ¨ä¼°æ¨¡å‹ï¼Œ  
è§£æ±ºè¾²æ¥­ç¾å ´ç¼ºä¹å³æ™‚ç”¨æ°´ç›£æ¸¬çš„å•é¡Œï¼Œæ”¯æ´æ”¿åºœåœ°ä¸‹æ°´è³‡æºç®¡ç†ã€‚

ğŸ§® **æ¨¡å‹ä¾æ“š**:
æœ¬å·¥å…·æ¡ç”¨ä¸‹åˆ—å…©éšæ®µå…¬å¼ï¼š

1. è¨ˆç®—æŠ½æ°´æ©Ÿæ¯åˆ†é˜æµé‡ï¼š  
$Q = \\frac{P \\cdot \\eta}{0.222 \\cdot H \\cdot 1.2}$

2. æ¨ä¼°æ¯æœˆæ¯åˆ†åœ°çš„æŠ½æ°´ç¸½é‡ï¼ˆä»£è¡¨ä½œç‰©éœ€æ°´é‡ï¼‰ï¼š  
$V = \\frac{Q \\cdot 60 \\cdot C}{2 \\cdot (P \\cdot A)}$

ğŸ“Œ **æ‡‰ç”¨æƒ…å¢ƒ**:
- ç„¡éœ€å®‰è£æµé‡è¨ˆï¼Œå³å¯è©•ä¼°ä½œç‰©ç”¨æ°´è¡Œç‚º  
- é©ç”¨æ–¼æ°´è³‡æºç®¡æ§å€ã€åœ°ä¸‹æ°´è¶…æŠ½å€èˆ‡æ™ºæ…§è¾²æ¥­å°å…¥æƒ…å¢ƒ  
- å¯æ­é…è¾²æ°‘ç”¨é›»å¸³å–®èˆ‡åœ°ç±åœ–é€²è¡Œåˆ†å€åˆ†æ

---
ğŸ‘‰ è«‹è¼¸å…¥å„åƒæ•¸ï¼Œå³å¯ç²å¾—ã€Œæ¨ä¼°æœˆéœ€æ°´é‡ã€
""")

# âœ… ä½¿ç”¨è€…è¼¸å…¥
C = st.number_input("æ¯æœˆç”¨é›»é‡ C (kWh)", min_value=0.0, value=500.0)
P = st.number_input("æŠ½æ°´é¦¬é”é¦¬åŠ› P (HP)", min_value=0.1, value=10.0)
eta = st.slider("æŠ½æ°´æ•ˆç‡ Î· (0 ~ 1)", 0.0, 1.0, 0.8)
H = st.number_input("æ°´é ­æ·±åº¦ H (å…¬å°º)", min_value=0.1, value=15.0)
A = st.number_input("è€•ä½œé¢ç© A (å…¬é ƒ)", min_value=0.01, value=5.0)

# âœ… åŸ·è¡Œè¨ˆç®—
if P > 0 and H > 0 and A > 0 and eta > 0:
    Q, V = estimate_pumping_volume(C, P, eta, H, A)
    st.success(f"ğŸ’§ æ¯åˆ†é˜æŠ½æ°´æµé‡ Q = {Q:.2f} ç«‹æ–¹ç±³/åˆ†é˜")
    st.success(f"ğŸŒ± ä½œç‰©æ¯æœˆéœ€æ°´é‡ V = {V:.2f} ç«‹æ–¹ç±³/åˆ†åœ°")
else:
    st.warning("è«‹è¼¸å…¥æœ‰æ•ˆçš„æ­£æ•¸åƒæ•¸")

st.caption("å…¬å¼: V = (Q*60*C) / (2*(P*A))")
# app.py
